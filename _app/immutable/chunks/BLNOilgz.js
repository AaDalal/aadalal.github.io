import{z,F as _e,a2 as ue,L as U,B as T,a3 as he,G as ge,g as K,U as pe,I as me,J as Ee,K as ne,M as B,C as F,a4 as Ce,a5 as Ae,a6 as fe,v as Se,a7 as w,A as V,E as we,a8 as se,a9 as xe,aa as X,ab as Te,ac as Ie,ad as Me,ae as Ne,w as ve,y as de,af as Y,ag as ce,ah as be,ai as ke,aj as Le,x as De,ak as Oe,al as Re,am as ye,an as He,ao as Fe,p as ze,n as L,o as D,s as Ue,t as ie,m as Be,j as Ye}from"./Oz1Ni15G.js";import{f as Q,a as q}from"./BHuit6l-.js";import{s as oe}from"./C0jaiOcI.js";import{i as qe}from"./DxiNAn5b.js";import{s as G,a as Ge}from"./Ce8BhDZ-.js";import{p as O}from"./DraYsehv.js";function ir(e,r){return r}function Ke(e,r,n){for(var l=[],u=r.length,t,o=r.length,_=0;_<u;_++){let h=r[_];de(h,()=>{if(t){if(t.pending.delete(h),t.done.add(h),t.pending.size===0){var d=e.outrogroups;J(X(t.done)),d.delete(t),d.size===0&&(e.outrogroups=null)}}else o-=1},!1)}if(o===0){var f=l.length===0&&n!==null;if(f){var v=n,i=v.parentNode;Le(i),i.append(v),e.items.clear()}J(r,!f)}else t={pending:new Set(r),done:new Set},(e.outrogroups??(e.outrogroups=new Set)).add(t)}function J(e,r=!0){for(var n=0;n<e.length;n++)De(e[n],r)}var te;function or(e,r,n,l,u,t=null){var o=e,_=new Map,f=(r&ue)!==0;if(f){var v=e;o=T?U(he(v)):v.appendChild(z())}T&&ge();var i=null,h=pe(()=>{var s=n();return Te(s)?s:s==null?[]:X(s)}),d,c=!0;function A(){a.fallback=i,Ve(a,d,o,r,l),i!==null&&(d.length===0?i.f&w?(i.f^=w,R(i,null,o)):ve(i):de(i,()=>{i=null}))}var g=_e(()=>{d=K(h);var s=d.length;let E=!1;if(T){var N=me(o)===Ee;N!==(s===0)&&(o=ne(),U(o),B(!1),E=!0)}for(var C=new Set,I=Se,b=we(),p=0;p<s;p+=1){T&&F.nodeType===Ce&&F.data===Ae&&(o=F,E=!0,B(!1));var M=d[p],k=l(M,p),m=c?null:_.get(k);m?(m.v&&fe(m.v,M),m.i&&fe(m.i,p),b&&I.skipped_effects.delete(m.e)):(m=Je(_,c?o:te??(te=z()),M,k,p,u,r,n),c||(m.e.f|=w),_.set(k,m)),C.add(k)}if(s===0&&t&&!i&&(c?i=V(()=>t(o)):(i=V(()=>t(te??(te=z()))),i.f|=w)),T&&s>0&&U(ne()),!c)if(b){for(const[y,H]of _)C.has(y)||I.skipped_effects.add(H.e);I.oncommit(A),I.ondiscard(()=>{})}else A();E&&B(!0),K(h)}),a={effect:g,items:_,outrogroups:null,fallback:i};c=!1,T&&(o=F)}function Ve(e,r,n,l,u){var m,y,H,W,Z,j,$,ee,re;var t=(l&ke)!==0,o=r.length,_=e.items,f=e.effect.first,v,i=null,h,d=[],c=[],A,g,a,s;if(t)for(s=0;s<o;s+=1)A=r[s],g=u(A,s),a=_.get(g).e,a.f&w||((y=(m=a.nodes)==null?void 0:m.a)==null||y.measure(),(h??(h=new Set)).add(a));for(s=0;s<o;s+=1){if(A=r[s],g=u(A,s),a=_.get(g).e,e.outrogroups!==null)for(const S of e.outrogroups)S.pending.delete(a),S.done.delete(a);if(a.f&w)if(a.f^=w,a===f)R(a,null,n);else{var E=i?i.next:f;a===e.effect.last&&(e.effect.last=a.prev),a.prev&&(a.prev.next=a.next),a.next&&(a.next.prev=a.prev),x(e,i,a),x(e,a,E),R(a,E,n),i=a,d=[],c=[],f=i.next;continue}if(a.f&Y&&(ve(a),t&&((W=(H=a.nodes)==null?void 0:H.a)==null||W.unfix(),(h??(h=new Set)).delete(a))),a!==f){if(v!==void 0&&v.has(a)){if(d.length<c.length){var N=c[0],C;i=N.prev;var I=d[0],b=d[d.length-1];for(C=0;C<d.length;C+=1)R(d[C],N,n);for(C=0;C<c.length;C+=1)v.delete(c[C]);x(e,I.prev,b.next),x(e,i,I),x(e,b,N),f=N,i=b,s-=1,d=[],c=[]}else v.delete(a),R(a,f,n),x(e,a.prev,a.next),x(e,a,i===null?e.effect.first:i.next),x(e,i,a),i=a;continue}for(d=[],c=[];f!==null&&f!==a;)(v??(v=new Set)).add(f),c.push(f),f=f.next;if(f===null)continue}a.f&w||d.push(a),i=a,f=a.next}if(e.outrogroups!==null){for(const S of e.outrogroups)S.pending.size===0&&(J(X(S.done)),(Z=e.outrogroups)==null||Z.delete(S));e.outrogroups.size===0&&(e.outrogroups=null)}if(f!==null||v!==void 0){var p=[];if(v!==void 0)for(a of v)a.f&Y||p.push(a);for(;f!==null;)!(f.f&Y)&&f!==e.fallback&&p.push(f),f=f.next;var M=p.length;if(M>0){var k=l&ue&&o===0?n:null;if(t){for(s=0;s<M;s+=1)($=(j=p[s].nodes)==null?void 0:j.a)==null||$.measure();for(s=0;s<M;s+=1)(re=(ee=p[s].nodes)==null?void 0:ee.a)==null||re.fix()}Ke(e,p,k)}}t&&ce(()=>{var S,ae;if(h!==void 0)for(a of h)(ae=(S=a.nodes)==null?void 0:S.a)==null||ae.apply()})}function Je(e,r,n,l,u,t,o,_){var f=o&Ie?o&Me?se(n):xe(n,!1,!1):null,v=o&Ne?se(u):null;return{v:f,i:v,e:V(()=>(t(r,f??n,v??u,_),()=>{e.delete(l)}))}}function R(e,r,n){if(e.nodes)for(var l=e.nodes.start,u=e.nodes.end,t=r&&!(r.f&w)?r.nodes.start:n;l!==null;){var o=be(l);if(t.before(l),l===u)return;l=o}}function x(e,r,n){r===null?e.effect.first=n:r.next=n,n===null?e.effect.last=r:n.prev=r}const Pe=Symbol("is custom element"),Xe=Symbol("is html");function tr(e){if(T){var r=!1,n=()=>{if(!r){if(r=!0,e.hasAttribute("value")){var l=e.value;P(e,"value",null),e.value=l}if(e.hasAttribute("checked")){var u=e.checked;P(e,"checked",null),e.checked=u}}};e.__on_r=n,ce(n),Oe()}}function P(e,r,n,l){var u=Qe(e);T&&(u[r]=e.getAttribute(r),r==="src"||r==="srcset"||r==="href"&&e.nodeName==="LINK")||u[r]!==(u[r]=n)&&(r==="loading"&&(e[Re]=n),n==null?e.removeAttribute(r):typeof n!="string"&&We(e).includes(r)?e[r]=n:e.setAttribute(r,n))}function Qe(e){return e.__attributes??(e.__attributes={[Pe]:e.nodeName.includes("-"),[Xe]:e.namespaceURI===ye})}var le=new Map;function We(e){var r=e.getAttribute("is")||e.nodeName,n=le.get(r);if(n)return n;le.set(r,n=[]);for(var l,u=e,t=Element.prototype;t!==u;){l=Fe(u);for(var o in l)l[o].set&&n.push(o);u=He(u)}return n}var Ze=Q('<div class="prose dark:prose-invert max-w-none"><!></div>'),je=Q('<p class="text-sm"> </p>'),$e=Q("<a><div><!></div> <div> </div></a>");function lr(e,r){ze(r,!0);let n=O(r,"htmlContent",3,""),l=O(r,"containerClass",3,""),u=O(r,"contentClass",3,""),t=O(r,"dateClass",3,"text-xs opacity-75 mt-2"),o=O(r,"showFullContent",3,!1);const _=Be(()=>new Date(r.microblog.date||"").toLocaleDateString("en-US",{year:"numeric",month:o()?"long":"short",day:"numeric"}));var f=$e(),v=L(f),i=L(v);{var h=g=>{var a=Ze(),s=L(a);Ge(s,n),D(a),q(g,a)},d=g=>{var a=je(),s=L(a,!0);D(a),ie(E=>oe(s,E),[()=>{var E;return((E=r.microblog.content)==null?void 0:E.substring(0,200))||""}]),q(g,a)};qe(i,g=>{o()?g(h):g(d,!1)})}D(v);var c=Ue(v,2),A=L(c,!0);D(c),D(f),ie(()=>{P(f,"href",r.href),G(f,1,`dark:bg-orange-800 bg-orange-900/60 p-4 flex flex-col justify-between ${l()??""}`),G(v,1,`overflow-hidden flex-1 ${u()??""}`),G(c,1,`text-right ${t()??""}`),oe(A,K(_))}),q(e,f),Ye()}export{lr as M,or as e,ir as i,tr as r,P as s};
